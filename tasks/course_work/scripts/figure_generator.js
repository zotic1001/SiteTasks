let figuresPath = {
    "square": "<svg  id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  <rect stroke-width=\"4\" id=\"svg_2\" height=\"80\" width=\"80\" y=\"10\" x=\"10\" stroke=\"#000\" fill=\"####\"/>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"64\" x=\"38\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        " </g>\n" +
        "</svg>",
    "circle": "<svg id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  <ellipse ry=\"42\" rx=\"42\" id=\"svg_4\" cy=\"50\" cx=\"50\" stroke-width=\"0\" stroke=\"#000\" fill=\"####\"/>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"63.71429\" x=\"37.85714\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        " </g>\n" +
        "</svg>\n",
    "triangle": "<svg id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        "\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"54.19048\" x=\"37.85714\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        "  <line stroke-width=\"7\" id=\"svg_5\" y2=\"8.86744\" x2=\"51.9659\" y1=\"60.59524\" x1=\"0.23809\" stroke=\"####\" fill=\"none\"/>\n" +
        "  <line stroke-width=\"7\" stroke=\"####\" id=\"svg_7\" y2=\"60.31578\" x2=\"97.81578\" y1=\"9.64286\" x1=\"51.66667\" fill=\"none\"/>\n" +
        "  <line stroke-width=\"7\" id=\"svg_8\" y2=\"60.59524\" x2=\"98.14442\" y1=\"60.59524\" x1=\"0.71429\" stroke=\"####\" fill=\"none\"/>\n" +
        " </g>\n" +
        "</svg>\n",
    "recycle": "<svg id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        "\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"65.14286\" x=\"37.38095\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        "  <path id=\"svg_7\" d=\"m97.81578,60.31578\" opacity=\"undefined\" stroke-width=\"0\" stroke=\"#000\" fill=\"#000000\"/>\n" +
        "  <path stroke=\"####\" id=\"svg_9\" d=\"m16.88231,33.8149c0.00185,-0.77879 0.63295,-5.55371 1.40295,-10.61099c2.40098,-15.76954 2.4363,-15.83913 5.48472,-10.81303l1.80357,2.97366l5.27452,-2.9411c6.97654,-3.89013 15.30118,-5.32922 22.95346,-3.96795c3.24831,0.57787 6.69501,1.5171 7.65933,2.08718c1.91456,1.13179 1.79184,2.10377 -1.25962,9.97594c-1.67243,4.3146 -1.83297,4.43757 -4.72191,3.61725c-4.91708,-1.39613 -12.92349,-0.95638 -16.78902,0.92215l-3.62431,1.76136l2.544,2.93312c1.39921,1.61326 2.19184,3.17358 1.76143,3.4674c-0.43043,0.29383 -5.66723,0.86653 -11.63733,1.2726c-8.95717,0.6093 -10.85423,0.49088 -10.85179,-0.67758l0,0zm46.12241,43.47984l-3.88017,-5.6768l3.53292,-3.77365c3.63618,-3.88389 6.25864,-9.33683 7.41399,-15.41616l0.65932,-3.46921l-3.80275,0.67166c-2.09151,0.36946 -3.81562,0.32145 -3.83134,-0.10663c-0.07343,-1.99863 9.87061,-21.70064 10.83718,-21.4716c1.51979,0.36012 16.93897,15.11185 16.93897,16.20567c0,0.4882 -1.6205,1.17389 -3.60108,1.52372l-3.60109,0.63604l-0.35541,6.78316c-0.45585,8.69967 -4.60596,18.74027 -10.38406,25.12277c-2.31425,2.55636 -4.62141,4.64789 -5.12701,4.64789c-0.50562,0 -2.66537,-2.55461 -4.79946,-5.67686l0,0zm-35.02635,15.91165c0,-0.62769 0.6096,-2.44337 1.35466,-4.03487c1.35178,-2.88748 1.34395,-2.9015 -3.69556,-6.59757c-7.88469,-5.78275 -13.74539,-16.04679 -15.58884,-27.30131l-0.60436,-3.68972l4.30909,-0.65239c8.8827,-1.34487 8.96381,-1.30422 10.7428,5.38316c1.20046,4.51264 2.67691,7.21698 5.85961,10.73259c2.34012,2.58492 4.58173,4.47661 4.98137,4.20379c0.39962,-0.27281 0.97804,-1.88482 1.28538,-3.58227c0.30734,-1.69744 0.94821,-3.08628 1.42415,-3.08628c1.0927,0 11.38268,17.92175 11.54604,20.10939c0.1091,1.4611 -5.45339,3.99089 -19.95008,9.07325c-0.92438,0.32407 -1.66425,0.07614 -1.66425,-0.55779l0,0z\" fill=\"####\"/>\n" +
        " </g>\n" +
        "</svg>\n",
    "star": "<svg id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        "\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  <path id=\"svg_7\" d=\"m97.81578,60.31578\" opacity=\"undefined\" stroke-width=\"0\" stroke=\"#000\" fill=\"#000000\"/>\n" +
        "  <path id=\"svg_16\" d=\"m-150.13763,-40.58824c-0.38873,-0.28901 -0.52772,-0.47184 -0.52885,-0.69565c-0.00103,-0.20403 0.17055,-0.40095 0.34835,-0.39982c0.08879,0.00057 0.27924,0.07566 0.34668,0.1367c0.03398,0.03075 0.05008,0.02772 0.12573,-0.02369c0.2059,-0.13991 0.40696,-0.14285 0.53718,-0.00785c0.20811,0.21576 0.17023,0.47342 -0.10892,0.74069c-0.14841,0.14209 -0.4725,0.39417 -0.50678,0.39417c-0.01043,0 -0.10646,-0.06505 -0.2134,-0.14456l0,0z\" stroke=\"#000\" fill=\"none\"/>\n" +
        "  <path id=\"svg_17\" d=\"m47.6675,65.63274l-25.97596,19.17319l9.92958,-31.01458l-25.97011,-19.17319l32.10154,0.00594l8.53195,-26.66838l1.39178,-4.33135l9.91203,30.99379l32.11031,0l-25.98181,19.17319l9.9325,31.0235l-25.98181,-19.1821l0,0z\" stroke=\"#000\" fill=\"####\"/>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"63.71429\" x=\"35.47619\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        " </g>\n" +
        "</svg>",
    "heart": "<svg id='%%%%' width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
        "\n" +
        " <g>\n" +
        "  <title>Layer 1</title>\n" +
        "  \n" +
        "  <path id=\"svg_7\" d=\"m97.81578,60.31578\" opacity=\"undefined\" stroke-width=\"0\" stroke=\"#000\" fill=\"####\"/>\n" +
        "  <path id=\"svg_14\" d=\"m42.04151,79.60864c-19.06557,-17.31378 -25.88227,-28.26617 -25.93751,-41.67388c-0.05038,-12.22277 8.36448,-24.01954 17.08501,-23.95151c4.35464,0.03404 13.69562,4.53269 17.0033,8.18896c1.6666,1.84224 2.45598,1.66058 6.16649,-1.41912c10.09844,-8.38162 19.95967,-8.55755 26.34623,-0.46999c10.20709,12.92562 8.34877,28.36117 -5.34202,44.372c-7.27881,8.51229 -23.17414,23.61357 -24.8552,23.61357c-0.51152,0 -5.22135,-3.89702 -10.4663,-8.66004l0,0z\" stroke=\"#000\" fill=\"####\"/>\n" +
        "  <path id=\"svg_16\" d=\"m-150.13763,-40.58824c-0.38873,-0.28901 -0.52772,-0.47184 -0.52885,-0.69565c-0.00103,-0.20403 0.17055,-0.40095 0.34835,-0.39982c0.08879,0.00057 0.27924,0.07566 0.34668,0.1367c0.03398,0.03075 0.05008,0.02772 0.12573,-0.02369c0.2059,-0.13991 0.40696,-0.14285 0.53718,-0.00785c0.20811,0.21576 0.17023,0.47342 -0.10892,0.74069c-0.14841,0.14209 -0.4725,0.39417 -0.50678,0.39417c-0.01043,0 -0.10646,-0.06505 -0.2134,-0.14456l0,0z\" stroke=\"#000\" fill=\"none\"/>\n" +
        "  <text xml:space=\"preserve\" text-anchor=\"start\" font-family=\"Noto Sans JP\" font-size=\"51\" stroke-width=\"0\" id=\"svg_3\" y=\"65.14286\" x=\"37.38095\" stroke=\"#000\" fill=\"#000000\">$$$$</text>\n" +
        " </g>\n" +
        "</svg>"
}
var game_div = document.getElementById("game_board");
let colors = ["ff0000", "00ff00", "6495ed",
    "dfff00", "9fe2bf",
     "de3163", "ccccff", "808000"]
let figures = ["star", "heart", "recycle", "triangle", "circle", "square"]

function generate_figure(figure, color, number) {
    let htmlString = figuresPath[figure].replaceAll("$$$$", number.toString()).replaceAll("####", "#"+color);
    
    let div = document.createElement('div');
    div.innerHTML = htmlString.trim();

    // Change this to div.childNodes to support multiple top-level nodes.
    return {
        "type": figure,
        "svg": div,
        "number": number,
        "color": color
    };
}

function generate_random_numbers(count) {
    let numbers = [];
    for (let i = 0; i < count; i++) {
        numbers.push(Math.floor(Math.random() *9) + 1);
    }
    return numbers;
}

function generate_random_items(itemsArray, numberOfItems) {
    const randomColors = [];
    for (let i = 0; i < numberOfItems; i++) {
        const randomIndex = Math.floor(Math.random() * itemsArray.length);
        randomColors.push(itemsArray[randomIndex]);
    }
    return randomColors;
}

function shuffle_items(count) {
    let result = [];
    let figur = generate_random_items(figures, 20);
    let colorsRandom = generate_random_items(colors, 20);
    let numbersRandom = generate_random_numbers(20);
    
    for (let i=0; i < count; i++) {
        result.push(generate_figure(figur[i], colorsRandom[i], numbersRandom[i]))
    }
    return result;
}




function fillGameBoard() {
    let svgs = shuffle_items(20);
    for (var i = 0; i < svgs.length; i ++) {
    svgs[i].svg.classList.add("figure" + svgs[i].type);
    svgs[i].svg.classList.add("color" + svgs[i].color);
    svgs[i].svg.classList.add("number" + svgs[i].number);
    svgs[i].svg.classList.add("game_item");
    game_div.appendChild(svgs[i].svg);
}
}
